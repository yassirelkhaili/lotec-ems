<div class="employee-form-container">
  <h2>{{ isEditMode ? 'Edit Employee' : 'Add New Employee' }}</h2>

  <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" class="employee-form">
    <div class="form-group">
      <label for="firstName">First Name *</label>
      <input
        type="text"
        id="firstName"
        formControlName="firstName"
        class="form-control"
        [class.error]="employeeForm.get('firstName')?.invalid && employeeForm.get('firstName')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('firstName')?.invalid && employeeForm.get('firstName')?.touched">
        First name is required and must be at least 2 characters.
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name *</label>
      <input
        type="text"
        id="lastName"
        formControlName="lastName"
        class="form-control"
        [class.error]="employeeForm.get('lastName')?.invalid && employeeForm.get('lastName')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('lastName')?.invalid && employeeForm.get('lastName')?.touched">
        Last name is required and must be at least 2 characters.
      </div>
    </div>

    <div class="form-group">
      <label for="street">Street *</label>
      <input
        type="text"
        id="street"
        formControlName="street"
        class="form-control"
        [class.error]="employeeForm.get('street')?.invalid && employeeForm.get('street')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('street')?.invalid && employeeForm.get('street')?.touched">
        Street is required.
      </div>
    </div>

    <div class="form-group">
      <label for="postcode">Postcode *</label>
      <input
        type="text"
        id="postcode"
        formControlName="postcode"
        class="form-control"
        [class.error]="employeeForm.get('postcode')?.invalid && employeeForm.get('postcode')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('postcode')?.invalid && employeeForm.get('postcode')?.touched">
        Postcode is required and must be a 5-digit number.
      </div>
    </div>

    <div class="form-group">
      <label for="city">City *</label>
      <input
        type="text"
        id="city"
        formControlName="city"
        class="form-control"
        [class.error]="employeeForm.get('city')?.invalid && employeeForm.get('city')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('city')?.invalid && employeeForm.get('city')?.touched">
        City is required.
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Phone *</label>
      <input
        type="text"
        id="phone"
        formControlName="phone"
        class="form-control"
        [class.error]="employeeForm.get('phone')?.invalid && employeeForm.get('phone')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('phone')?.invalid && employeeForm.get('phone')?.touched">
        Phone is required and must be a valid phone number.
      </div>
    </div>


    <div class="form-group">
      <label for="qualifications">Qualifications</label>
      <select id="qualifications" formControlName="qualifications" class="form-control" multiple>
        <option *ngFor="let q of qualifications" [value]="q.id">{{ q.skill }}</option>
      </select>
      <div class="form-text">Hold Ctrl (Windows) or Cmd (Mac) to select multiple qualifications.</div>
    </div>

    <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
    <div class="success-message" *ngIf="successMessage">{{ successMessage }}</div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="isLoading">
        {{ isLoading ? 'Saving...' : (isEditMode ? 'Update Employee' : 'Create Employee') }}
      </button>
      <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
    </div>
  </form>
</div>
