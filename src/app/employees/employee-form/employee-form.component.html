<div class="employee-form-container">
  <h2>{{ isEditMode ? 'Mitarbeiter bearbeiten' : 'Neuen Mitarbeiter hinzufügen' }}</h2>

  <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" class="employee-form">
    <div class="form-group">
      <label for="firstName">Vorname *</label>
      <input
        type="text"
        id="firstName"
        formControlName="firstName"
        class="form-control"
        [class.error]="employeeForm.get('firstName')?.invalid && employeeForm.get('firstName')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('firstName')?.invalid && employeeForm.get('firstName')?.touched">
        Vorname ist erforderlich und muss mindestens 2 Zeichen lang sein.
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Nachname *</label>
      <input
        type="text"
        id="lastName"
        formControlName="lastName"
        class="form-control"
        [class.error]="employeeForm.get('lastName')?.invalid && employeeForm.get('lastName')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('lastName')?.invalid && employeeForm.get('lastName')?.touched">
        Nachname ist erforderlich und muss mindestens 2 Zeichen lang sein.
      </div>
    </div>

    <div class="form-group">
      <label for="street">Straße *</label>
      <input
        type="text"
        id="street"
        formControlName="street"
        class="form-control"
        [class.error]="employeeForm.get('street')?.invalid && employeeForm.get('street')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('street')?.invalid && employeeForm.get('street')?.touched">
        Straße ist erforderlich.
      </div>
    </div>

    <div class="form-group">
      <label for="postcode">Postleitzahl *</label>
      <input
        type="text"
        id="postcode"
        formControlName="postcode"
        class="form-control"
        [class.error]="employeeForm.get('postcode')?.invalid && employeeForm.get('postcode')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('postcode')?.invalid && employeeForm.get('postcode')?.touched">
        Postleitzahl ist erforderlich und muss eine 5-stellige Zahl sein.
      </div>
    </div>

    <div class="form-group">
      <label for="city">Stadt *</label>
      <input
        type="text"
        id="city"
        formControlName="city"
        class="form-control"
        [class.error]="employeeForm.get('city')?.invalid && employeeForm.get('city')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('city')?.invalid && employeeForm.get('city')?.touched">
        Stadt ist erforderlich.
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Telefon *</label>
      <input
        type="text"
        id="phone"
        formControlName="phone"
        class="form-control"
        [class.error]="employeeForm.get('phone')?.invalid && employeeForm.get('phone')?.touched">
      <div class="error-message" *ngIf="employeeForm.get('phone')?.invalid && employeeForm.get('phone')?.touched">
        Telefon ist erforderlich und muss eine gültige Telefonnummer sein.
      </div>
    </div>



    <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
    <div class="success-message" *ngIf="successMessage">{{ successMessage }}</div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="isLoading">
        {{ isLoading ? 'Speichern...' : (isEditMode ? 'Mitarbeiter aktualisieren' : 'Mitarbeiter erstellen') }}
      </button>
      <button type="button" class="btn btn-secondary" (click)="onCancel()">Abbrechen</button>
    </div>
  </form>
</div>
