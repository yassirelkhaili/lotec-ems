<div class="qualifications-container">
  <header class="page-header">
    <h1>Qualifications Management</h1>
    <button class="btn btn-primary" (click)="showCreateForm()" *ngIf="!showForm">
      <span class="icon">+</span> Add New Qualification
    </button>
  </header>

  <!-- Create/Edit Form -->
  <div class="form-container" *ngIf="showForm">
    <div class="form-card">
      <h2>{{ isEditMode ? 'Edit Qualification' : 'Create New Qualification' }}</h2>
      
      <form (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="designation">Designation *</label>
          <input 
            type="text" 
            id="designation" 
            name="designation"
            [(ngModel)]="qualificationForm.designation"
            placeholder="e.g., Java Developer, Project Manager"
            required
            class="form-input"
          />
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-success">
            {{ isEditMode ? 'Update' : 'Create' }}
          </button>
          <button type="button" class="btn btn-secondary" (click)="cancelForm()">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Qualifications List -->
  <div class="qualifications-list">
    <div class="list-header">
      <h2>All Qualifications</h2>
      <p class="list-count">Total: {{ qualifications.length }}</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="(qualifications$ | async) === null" class="loading">
      <p>Loading qualifications...</p>
    </div>

    <!-- Empty State -->
    <div *ngIf="qualifications.length === 0 && (qualifications$ | async) !== null" class="empty-state">
      <p>No qualifications found.</p>
      <button class="btn btn-primary" (click)="showCreateForm()">
        Create your first qualification
      </button>
    </div>

    <!-- Qualifications Grid -->
    <div class="qualifications-grid" *ngIf="qualifications.length > 0">
      <div 
        *ngFor="let qualification of qualifications$ | async" 
        class="qualification-card"
      >
        <div class="card-header">
          <h3>{{ qualification.designation }}</h3>
          <span class="badge">ID: {{ qualification.id }}</span>
        </div>

        <div class="card-actions">
          <button 
            class="btn btn-sm btn-info" 
            (click)="viewEmployees(qualification.id)"
            title="View employees with this qualification"
          >
            <span class="icon">üë•</span> View Employees
          </button>
          
          <button 
            class="btn btn-sm btn-warning" 
            (click)="editQualification(qualification)"
            title="Edit qualification"
          >
            <span class="icon">‚úèÔ∏è</span> Edit
          </button>
          
          <button 
            class="btn btn-sm btn-danger" 
            (click)="deleteQualification(qualification.id)"
            title="Delete qualification"
          >
            <span class="icon">üóëÔ∏è</span> Delete
          </button>
        </div>
      </div>
    </div>
  </div>
</div>